# Plan: Align Application Code with `userId` Schema

**Objective:** To systematically remove all incorrect references to `authorId` from the application code and tests, aligning them with the existing and correct Prisma schema that uses `userId`.

---

#### 1. Affected Files

The following files have been identified as likely containing incorrect `authorId` references:

1.  **`src/backend/routes/boards.ts`**: The API logic for creating and querying boards.
2.  **`tests/integration/api.test.ts`**: The integration tests, particularly in the `afterAll` cleanup block.
3.  **`tests/integration/auth.test.ts`**: Tests related to user/board creation.
4.  **`prisma/seed.ts`**: The database seeding script.
5.  **Potentially `docs/**/*.md`**: Any documentation that might reference the old field name.

---

#### 2. Implementation Steps

1.  **[✅] Update Backend Logic:**
    *   **File:** `src/backend/routes/boards.ts`
    *   **Action:** Find all instances of `authorId` and replace them with `userId`.
    *   **Impact:** The core API logic will now be aligned with the schema.

2.  **[✅] Update Integration Tests:**
    *   **Files:** `tests/integration/api.test.ts`, `tests/integration/auth.test.ts`.
    *   **Action:** Find all instances of `authorId` (especially in direct database calls like `prisma.board.deleteMany`) and replace them with `userId`.
    *   **Impact:** The tests will now correctly reflect the schema, allowing them to pass and serve as a reliable verification tool.

3.  **[✅] Verify Seed Script:**
    *   **File:** `prisma/seed.ts`
    *   **Action:** Double-check the script to ensure it uses `userId` when creating the sample board. Correct it if necessary.
    *   **Impact:** Ensures that the manual seeding process remains functional.

4.  **[✅] Update Documentation:**
    *   **Action:** Perform a search for "authorId" across the `docs/` directory and update any files that reference the old, incorrect field name.
    *   **Impact:** Keeps the project's documentation accurate and up-to-date.

5.  **[✅] Verification:**
    *   **Action:** Run the entire integration test suite (`npm run test:integration`).
    *   **Goal:** All tests must pass. This will be the definitive proof that the inconsistency has been resolved everywhere and that no regressions were introduced.